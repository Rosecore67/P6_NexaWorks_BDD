CREATE TABLE Produit (
    id_produit INT PRIMARY KEY,
    nom_produit VARCHAR(255) NOT NULL
);

CREATE TABLE Version (
    id_version INT PRIMARY KEY,
    numero_version VARCHAR(10),
    id_produit INT, -- Clé étrangère vers Produit
    FOREIGN KEY (id_produit) REFERENCES Produit(id_produit),
    UNIQUE (id_produit, id_version) -- Contrainte unique pour permettre la contrainte dans la table Ticket
);

CREATE TABLE SystemeExploitation (
    id_systemeexploitation INT PRIMARY KEY,
    nom_systemeexploitation VARCHAR(255) NOT NULL
);

CREATE TABLE Compatibilite (
    id_produit INT,
    id_version INT,
    id_systemeexploitation INT,
    PRIMARY KEY (id_produit, id_version, id_systemeexploitation), -- Clé primaire composite
    FOREIGN KEY (id_version) REFERENCES Version(id_version),
    FOREIGN KEY (id_systemeexploitation) REFERENCES SystemeExploitation(id_systemeexploitation),
    FOREIGN KEY (id_produit) REFERENCES Produit(id_produit)
);

CREATE TABLE StatutTicket (
    id_statutticket INT PRIMARY KEY,
    nom_statut VARCHAR(255) NOT NULL
);
